$Fd.prototype.D=W(1417,function(a,b){for(var c=0,d=0;d<b;){++c;var e=a[d];if(128==(e&192))throw vb("Invalid UTF8 sequence").C;if(0==(e&128))++d;else if(192==(e&224))d+=2;else if(224==(e&240))d+=3;else if(240==(e&248))d+=4;else throw vb("Invalid UTF8 sequence").C;if(d>b)throw Bba("Invalid UTF8 sequence").C;}c=Sa([c],oca,pca,0);var f=0;for(e=d=0;e<b;){var h=a[e++];0==(h&128)?(d=1,h&=127):192==(h&224)?(d=2,h&=31):224==(h&240)?(d=3,h&=15):240==(h&248)?(d=4,h&=7):248==(h&252)&&(d=5,h&=3);for(;0<--d;){var k=
a[e++];if(128!=(k&192))throw vb("Invalid UTF8 sequence at "+(e-1)+", byte="+Ia(Ka(k))).C;h=h<<6|k&63}k=f;var l=c;if(!(0<=h&&1114111>=h))throw Fca().C;if(65536<=h){var n=f++;l[n]=55296+(h-65536>>10&1023)&65535;l[f]=56320+(h-65536&1023)&65535;f=2}else l[f]=h&65535,f=1;f=k+f}return c});function Jlg(a){var b=a.C.Oz();a=a.C;if(0>b||a.C+b>a.D.length)a.J=!0,b=new Uint8Array(0);else{var c=a.D.subarray(a.C,a.C+b);a.C+=b;b=c}return b}function Klg(){}u(Klg,Ga);
Klg.prototype.C=function(a){a=Array.from(a.C);a=(CLd(),BLd).D(a,a.length);a=fda(a,0,a.length);a=GZb(a);var b=wLd(a.model);b.C=a.model_version;return yLd(b)};function Llg(a,b){b.E2b=!0}function Mlg(){}u(Mlg,Ga);function Nlg(){return function(a){return HZb(a)}}function S5(a){a.F=0;var b=a.J.zBa;a.J=null;return b}
function Olg(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(h){h.done?d(h.value):Promise.resolve(h.value).then(b,c).then(f,e)}f(a.next())})}function T5(a){return Olg(new xFe(new tFe(a)))}function Plg(a){if(Zna)return na.atob(a);var b="";boa(a,function(c){b+=String.fromCharCode(c)});return b}function Qlg(a){if(null==a||"string"===typeof a)return a;if(uoa&&a instanceof Uint8Array)return ci(a);ta(a);return null}function Rlg(){}u(Rlg,Wa);
function Slg(a){var b=Zj();a.then(function(c){b.callback(c);return null},function(c){if(c instanceof Error||vba(c)){c=SGa(c);var d=new Rlg;qba(d,"Promise rejected",c);d.D(Error(d));c=d}else c=new Rlg,Qa(c,"Promise rejected"),c.D(Error(c));b.Id(c);return null});return b};function Tlg(a){var b=new Ulg(new Vlg);this.D=a;this.C=b}function Wlg(a){return uj((void 0).X$a(),function(b){return a.C.C(b,a.D)})};function Xlg(){}u(Xlg,Ga);function Ylg(a){var b,c,d,e,f,h=a.J.C().transform((b=a.F,function(l){return b(l)})),k=h.transform(function(l){var n;return n=a.H,n(l.D)});h=h.transform(function(l){return l.C});sj(k,(c=a.C,function(l){c.callback(l)}),(d=a.C,function(l){d.Id(l)}));sj(h,(e=a.D,function(l){e.callback(l)}),(f=a.D,function(l){f.Id(l)}))};function Zlg(a,b){this.C=a;this.Ya=b;this.D=!1}function $lg(a,b){a.D||(Vqa(uj(a.C.D.transform(function(c){b.La(2,null,c,2,null)}),function(){return a.C.C}).transform(function(c){for(var d=0;d<c.length;d++)b.Ha(c[d]);b.F()}),function(c){return Fj(a.Ya,new Kf("Failed to load CSE document.",c))}),Ylg(a.C),a.D=!0)};function amg(a,b,c){this.C=a;this.D=b;this.Ya=c}amg.prototype.load=function(){var a=this.Ya,b=this.C,c=Nlg(),d=kba(Klg.prototype.C,new Klg,Llg),e=new Xlg;e.C=Zj();e.D=Zj();e.J=b;e.H=c;e.F=d;$lg(new Zlg(e,a),this.D)};function bmg(a){B.call(this);this.C=new Vm;this.va(this.C);this.D=a}u(bmg,B);bmg.prototype.initialize=function(){Xm(this.C,this.D,function(){yz.getInstance().postMessage(Az("This file is encrypted. Some functionality will be unavailable.","info",!0))})};function cmg(a){this.C=a};function dmg(){this.C=0}u(dmg,Ga);function emg(){}u(emg,Ga);emg.prototype.serialize=function(a){var b;var c=this.C;a=c.D.chunkedSnapshot(a);a=HLd(c.F,a);a=wLd(a);a.C=c.C;c=yLd(a);c=(b=this.D,b(c));return ak(c)};function fmg(a,b){this.D=a;this.C=b}function gmg(a){return FAa(a.D,!1,void 0).transform(function(b){return new hmg(b)})}function img(a,b){if(A(z(),"docs-show_debug_info")&&hl(window.location.href,"forceManualSaveError")&&1==Number(il(window.location.href,"forceManualSaveError")))return bk(null);b=b.C.eM;for(var c=Dl(a.D)+1,d=0;d<b.length;d++){var e=b[d],f=e.C;zAa(a.D,c,null,e.D,e.F);a.C&&yya(a.C,c,null,null,null,f)}return a.C?a.C.flush():ak(null)}function hmg(a){this.C=a};function jmg(a,b,c,d,e){this.O=a;this.R=b;this.J=c;this.L=d;this.H=e;this.C=!1;this.F=new lf;this.D=new lf}jmg.prototype.save=function(){var a=this;this.R.C.wN()&&!this.C&&(this.C=!0,this.F.dispatchEvent(null),tj(gmg(this.H),function(b){return kmg(a,b)}))};function kmg(a,b){tj(uj(a.J.serialize(a.O.Qa()),function(c){return a.L.C(c.C)}),function(c){return lmg(a,b,c)})}
function lmg(a,b,c){var d=!1;tj(Xqa(img(a.H,b),function(){d=!0}).transform(function(){return c}),function(e){a.C=!1;a.D.dispatchEvent(e&&!d)})}jmg.prototype.Vq=g("C");function mmg(a){this.D=a}mmg.prototype.C=function(a){var b=this;return uj(uj(nmg(),function(c){return Slg(c.C(a))}),function(c){return b.D.C(c)})};function omg(a,b,c){B.call(this);var d=this;this.D=a;this.H=b;this.F=c;this.C=new Vm;this.va(this.C);Wm(this.C,this.H.La,function(){Zm(d.D.C)||qya(d.D.C);pmg(d);DDa(d.D,null,Da())});Wm(this.C,this.H.Pa,function(){pmg(d)});Wm(this.C,this.F.F,function(){pmg(d)});Wm(this.C,this.F.D,function(e){pmg(d,!e)});vya(a.C,b.Ioa());pmg(this)}u(omg,B);
function pmg(a,b){var c=a.D.C;(void 0===b?0:b)?(Ym(c,Um(c.C,32768,!0)),Ym(c,Um(c.C,256,!0))):(b=!a.F.Vq()&&!a.H.isEmpty(),Ym(c,Um(c.C,32768,!1)),Ym(c,Um(Um(c.C,8,a.F.Vq()),4,b))&&c.J.dispatchEvent(null),Ym(c,Um(c.C,256,b)))};function qmg(a,b){B.call(this);var c=this;this.F=a;this.D=new Vm;this.va(this.D);Wm(this.D,b.F,function(){c.C=tra(c.F,"ms")});Wm(this.D,b.D,function(){c.C&&(c.C.complete(),c.C=null)});this.C=null}u(qmg,B);function rmg(a,b,c,d,e,f,h){B.call(this);this.R=a;this.H=b;this.J=d;this.O=e;this.L=h;this.D=this.F=this.C=null}u(rmg,B);rmg.prototype.initialize=function(a,b){var c=new mmg(this.L),d=this.R,e=new cmg(a),f=this.H,h=this.O,k=fb(yc(z(),"docs-smv")),l=new dmg;h=GLd(h.C);l.D=f;l.F=h;l.C=k;f=kba(DLd.prototype.C,new DLd,ELd);k=new emg;k.C=l;k.D=f;this.C=new jmg(d,e,k,c,new fmg(a,b));this.F=new omg(this.J,a,this.C);this.va(this.F);this.D=new qmg(Jj(),this.C);this.va(this.D)};function smg(a){this.D=a}smg.prototype.C=function(){return uj(Yj([tmg(),this.D.C()],!0),function(a){var b=a[0].getValue();a=a[1].getValue();return Slg(b.Jia(a.C))}).transform(ALd)};function umg(){this.C=new S_b(O_b("cse_drive_client_key")||O_b("homescreen_drive_client_key")||zc(z(),"docs-hdck"))}function vmg(a,b,c,d,e,f,h,k){h=void 0===h?{}:h;k=void 0===k?{}:k;a.C.get().then(function(l){WDe(l,{path:e,method:d,body:f,params:k,headers:h}).then(b,c)})};function wmg(){this.D=new umg;this.C="/drive/"+z().get("docs-cse-gav")+"/"}function xmg(a,b,c,d){vmg(a.D,function(e){e=ALd(coa(e.body));c(e)},d,"GET",a.C+"files/"+b,void 0,{"X-Goog-Encode-Response-If-Executable":"base64"},{alt:"media"})}function ymg(a,b,c,d,e,f){var h={};h["Content-Type"]=c;c=ci(d);vmg(a.D,function(k){k=JSON.parse(k.body);e(k.id)},f,"PUT","/upload"+a.C+"files/"+b,c,h,{uploadType:"media",fields:"id"})}
function zmg(a,b,c,d,e,f){var h={title:"Untitled document"};d&&(h.id=d);A(z(),"docs-cse-ses")&&(h.clientEncryptionDetails={encryptionState:"encrypted"});b=Amg(h,c,b);vmg(a.D,function(k){k=JSON.parse(k.body);e(k.id)},f,"POST","/upload"+a.C+"files",b,{"Content-Type":"multipart/related; boundary=multipart_request_boundary"},{uploadType:"multipart",fields:"id"})}
function Amg(a,b,c){a=JSON.stringify(a);c="Content-Type: "+c;b=ci(b);return"--multipart_request_boundary\nContent-Type: application/json; charset=UTF-8\n\n"+a+"\n--multipart_request_boundary\n"+(c+"\n\n"+b+"\n--multipart_request_boundary--")}sa(wmg);function Bmg(a){this.D=a;this.F=wmg.getInstance()}Bmg.prototype.C=function(){var a=Zj();xmg(this.F,this.D,function(b){return a.callback(b)},function(){return a.Id()});return a};function Ulg(a){this.D=a}Ulg.prototype.C=function(a,b){var c=this;return uj(uj(nmg(),function(d){return Slg(d.C(a))}),function(d){return c.D.C(d,b)})};function Cmg(a){K(this,a,0,-1,null,null)}y(Cmg,J);Cmg.prototype.ea=function(){var a=new F;var b=L(this,1);null!=b&&I(a,1,b);b=L(this,2);null!=b&&a.D(2,b);return X(a)};function U5(a,b){a=Error.call(this,b);this.message=a.message;"stack"in a&&(this.stack=a.stack)}u(U5,Error);U5.prototype.name="ArgumentError";function Dmg(a){K(this,a,0,-1,null,null)}y(Dmg,J);Dmg.prototype.ea=function(){var a=new F;Emg(this,a);return X(a)};function Emg(a,b){a=L(a,1);null!=a&&I(b,1,a)}Dmg.prototype.setMode=function(a){return M(this,1,a)};function Fmg(a){K(this,a,0,-1,null,Gmg)}y(Fmg,J);var Gmg=[[1]];Fmg.prototype.ea=function(){var a=new F;var b=N(this,Dmg,1);null!=b&&a.C(1,b,Emg);b=L(this,2);null!=b&&a.D(2,b);return X(a)};Fmg.prototype.getEmail=function(){return L(this,2)};Fmg.prototype.cz=function(){return null!=L(this,2)};function V5(a,b,c){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.D=b;this.C=void 0===c?null:c}u(V5,Error);V5.prototype.getErrorCode=g("D");V5.prototype.kZ=g("C");V5.prototype.name="CseError";function Hmg(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)}u(Hmg,Error);Hmg.prototype.name="InvalidOperationError";var Img=Uint8Array&&Uint8Array.from?Uint8Array.from([153,94,204,94]):[];function Jmg(a){this.D=a;this.C=Img.length}Jmg.prototype.Jia=function(a){var b=this,c,d,e;return T5(function(f){if(1==f.C)return f.F=2,c=Math.min(a.length,b.C),uY(f,b.D.decrypt(a.subarray(c,a.length)),4);if(2!=f.C)return d=f.D,b.C-=c,f.return(d);e=S5(f);if(e instanceof U5)throw new V5(e.message,6,e);if(e instanceof Hmg)throw new V5(e.message,8,e);throw new V5(e.message,7,e);})};function Kmg(a){K(this,a,0,-1,null,null)}y(Kmg,J);function Lmg(a,b){for(;hi(b)&&!gi(b);)switch(b.D){case 1:var c=ji(b);M(a,1,c);break;default:ii(b)}return a}Kmg.prototype.ea=function(){var a=new F;Mmg(this,a);return X(a)};function Mmg(a,b){a=L(a,1);null!=a&&I(b,1,a)};function Nmg(a){K(this,a,0,-1,null,Omg)}y(Nmg,J);var Omg=[[3]];Nmg.prototype.ea=function(){var a=new F;Pmg(this,a);return X(a)};function Pmg(a,b){var c=L(a,1);null!=c&&ni(b,1,c);c=L(a,2);null!=c&&b.D(2,c);c=N(a,Kmg,3);null!=c&&b.C(3,c,Mmg)};function W5(){}W5.prototype.encrypt=ca();W5.prototype.decrypt=ca();function Qmg(a){Ya.call(this,a)}u(Qmg,Ya);function Rmg(a){for(var b=0,c=0;c<arguments.length;c++)b+=arguments[c].length;b=new Uint8Array(b);for(var d=c=0;d<arguments.length;d++)b.set(arguments[d],c),c+=arguments[d].length;return b};function Smg(a){if(!Number.isInteger(a)||0>a)throw new Qmg("n must be a nonnegative integer");var b=new Uint8Array(a);a&&(na.crypto||na.msCrypto).getRandomValues(b);return b};function X5(a){Ya.call(this,a)}u(X5,Ya);var Tmg=[16,32];function Umg(a){if(!Tmg.includes(a))throw new Qmg("unsupported AES key size: "+a);}function Vmg(a){if(null==a||!(a instanceof Uint8Array))throw new Qmg("input must be a non null Uint8Array");};function Wmg(a){this.C=a}function Xmg(a){var b;return T5(function(c){if(1==c.C)return Vmg(a),Umg(a.length),uY(c,self.crypto.subtle.importKey("raw",a,{name:"AES-GCM",length:a.length},!1,["encrypt","decrypt"]),2);b=c.D;return c.return(new Wmg(b))})}
Wmg.prototype.encrypt=function(a,b){var c=this,d,e,f;return T5(function(h){if(1==h.C)return Vmg(a),null!=b&&Vmg(b),d=Smg(12),e={name:"AES-GCM",iv:d,tagLength:128},null!=b&&b.length&&(e.additionalData=b),uY(h,self.crypto.subtle.encrypt(e,c.C,a),2);f=h.D;return h.return(Rmg(d,new Uint8Array(f)))})};
Wmg.prototype.decrypt=function(a,b){var c=this,d,e,f,h;return T5(function(k){if(1==k.C){Vmg(a);if(28>a.length)throw new X5("ciphertext too short");null!=b&&Vmg(b);d=new Uint8Array(12);d.set(a.subarray(0,12));e={name:"AES-GCM",iv:d,tagLength:128};null!=b&&b.length&&(e.additionalData=b);k.F=2;f=Uint8Array;return uY(k,self.crypto.subtle.decrypt(e,c.C,new Uint8Array(a.subarray(12))),4)}if(2!=k.C)return k.return(new f(k.D));h=S5(k);throw new X5(h.toString());})};function Y5(a){K(this,a,0,-1,null,null)}y(Y5,J);function Ymg(a,b){for(;hi(b)&&!gi(b);)switch(b.D){case 1:var c=ki(b);Ii(a,1,c);break;case 2:c=Jlg(b);a.setValue(c);break;case 3:c=ji(b);Ji(a,3,c);break;default:ii(b)}return a}Y5.prototype.ea=function(){var a=new F;Zmg(this,a);return X(a)};function Zmg(a,b){var c=Di(a,1,"");0<c.length&&b.D(1,c);c=Ci(a.getValue());0<c.length&&ri(b,2,c);c=Di(a,3,0);0!==c&&I(b,3,c)}Y5.prototype.getValue=function(){return Di(this,2,"")};
Y5.prototype.setValue=function(a){return Hi(this,2,a,"")};function $mg(a){K(this,a,0,-1,null,null)}y($mg,J);$mg.prototype.ea=function(){var a=new F;var b=Di(this,1,0);0!==b&&oi(a,1,b);b=Ci(Di(this,3,""));0<b.length&&ri(a,3,b);return X(a)};function ang(a){K(this,a,0,-1,null,null)}y(ang,J);ang.prototype.ea=function(){var a=new F;var b=Di(this,2,0);0!==b&&oi(a,2,b);b=Di(this,3,0);0!==b&&oi(a,3,b);return X(a)};function bng(a){K(this,a,0,-1,null,null)}y(bng,J);bng.prototype.ea=function(){var a=new F;var b=Di(this,1,"");0<b.length&&a.D(1,b);b=Ci(this.getValue());0<b.length&&ri(a,2,b);b=Di(this,3,0);0!==b&&I(a,3,b);return X(a)};bng.prototype.getValue=function(){return Di(this,2,"")};bng.prototype.setValue=function(a){return Hi(this,2,a,"")};function cng(a){K(this,a,0,-1,dng,null)}y(cng,J);function Z5(a){K(this,a,0,-1,null,null)}y(Z5,J);var dng=[2];cng.prototype.ea=function(){var a=new F;var b=Di(this,1,0);0!==b&&oi(a,1,b);b=Mi(this,Z5,2);0<b.length&&ui(a,2,b,eng);return X(a)};function fng(a,b){for(;hi(b)&&!gi(b);)switch(b.D){case 1:var c=new Y5;b.H(c,Ymg);Ni(a,1,c);break;case 2:c=ji(b);Ji(a,2,c);break;case 3:c=b.C.Oz();Gi(a,3,c);break;case 4:c=ji(b);Ji(a,4,c);break;default:ii(b)}return a}
Z5.prototype.ea=function(){var a=new F;eng(this,a);return X(a)};function eng(a,b){var c=N(a,Y5,1);null!=c&&b.C(1,c,Zmg);c=a.getStatus();0!==c&&I(b,2,c);c=Di(a,3,0);0!==c&&oi(b,3,c);c=Di(a,4,0);0!==c&&I(b,4,c)}Z5.prototype.getStatus=function(){return Di(this,2,0)};function gng(a,b){b=[b];b=b.concat(hng(a));return new Uint8Array(b)}function hng(a){if(!Number.isInteger(a)||0>a||a>=Math.pow(2,32))throw new Qmg("Number has to be unsigned 32-bit integer.");for(var b=Array(4),c=0;4>c;c++)b[c]=255&a>>8*(4-c-1);return b}var ing=new Uint8Array(0);function jng(a,b,c){this.F=a;this.C=b;this.D=c}function kng(){this.F=W5;this.C=null;this.D=new Map}function lng(a,b){return(a=mng(a,b))?a:[]}function mng(a,b){b instanceof Uint8Array&&(b=ka(b).concat().toString());return a.D.get(b)};function nng(a){if(!ong.get(a))throw new X5("Key manager for key type "+a+" has not been registered.");}function png(a){var b;return T5(function(c){if(1==c.C){if(a instanceof Y5){if(b&&Di(a,1,"")!=b)throw new X5("Key type is "+b+", but it is expected to be "+Di(a,1,"")+" or undefined.");b=Di(a,1,"")}if(!b)throw new X5("Key type has to be specified.");nng(b);return uY(c,qng(a),2)}return c.return(c.D)})}
function rng(a){return T5(function(b){if(1==b.C){var c=Di(a,1,"");nng(c);if(!sng.get(c))throw new X5("New key operation is forbidden for key type: "+c+".");c=Ci(a.getValue());if(c instanceof Uint8Array){try{for(var d=new fi(c),e=new ang;hi(d)&&!gi(d);)switch(d.D){case 2:var f=d.C.Oz();Gi(e,2,f);break;case 3:f=d.C.Oz();Gi(e,3,f);break;default:ii(d)}var h=e}catch(k){throw new X5("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");}if(!Di(h,
2,0))throw new X5("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");}else if(c instanceof ang)h=c;else throw new X5("Expected AesGcmKeyFormat-proto");d=h;Umg(Di(d,2,0));h=new $mg;d=Smg(Di(d,2,0));h=Hi(h,3,d,"");h=Gi(h,1,0);d=new Y5;h=Ii(d,1,"type.googleapis.com/google.crypto.tink.AesGcmKey").setValue(h.ea());h=Ji(h,3,1);return uY(b,h,2)}return b.return(b.D)})}
function tng(a){if(!a)throw new X5("primitive set cannot be null.");var b=a.F;if(!ung.get(b))throw new X5("no primitive wrapper found for type "+b);if(!a)throw new X5("Primitive set has to be non-null.");if(!a.C)throw new X5("Primary has to be non-null.");return new vng(a)}var ong=new Map,sng=new Map,ung=new Map;function qng(a){var b;return T5(function(c){if(1==c.C){if(W5!=W5)throw new X5("Requested primitive type which is not supported by this key manager.");if(a instanceof Y5){if("type.googleapis.com/google.crypto.tink.AesGcmKey"!=Di(a,1,""))throw new X5("Key type "+Di(a,1,"")+" is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");try{for(var d=a.getValue(),e=new fi(d),f=new $mg;hi(e)&&!gi(e);)switch(e.D){case 1:var h=e.C.Oz();Gi(f,1,h);break;case 3:h=Jlg(e);Hi(f,
3,h,"");break;default:ii(e)}var k=f}catch(l){throw new X5("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key.");}if(!Di(k,3,""))throw new X5("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key.");}else if(a instanceof $mg)k=a;else throw new X5("Key type is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");b=k;Umg(Di(b,3,"").length);k=Di(b,1,0);if(0>
k||0<k)throw new X5("Version is out of bound, must be between 0 and 0.");return uY(c,Xmg(Ci(Di(b,3,""))),2)}return c.return(c.D)})};function wng(){var a=new ang;a=Gi(a,2,32);var b=new bng;b=Ii(b,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");return Ji(b,3,3).setValue(a.ea())};function xng(a){this.C=a};function yng(){}yng.prototype.write=function(a){if(!a)throw new X5("keyset has to be non-null.");return a.ea()};function zng(a){if(!a||!Mi(a,Z5,2)||1>Mi(a,Z5,2).length)throw new X5("Keyset should be non null and must contain at least one key.");for(var b=!1,c=Mi(a,Z5,2).length,d=0;d<c;d++){var e=Mi(a,Z5,2)[d];if(!e)throw new X5("Key should be non null.");if(!N(e,Y5,1))throw new X5("Key data are missing for key "+Di(e,3,0)+".");if(0===Di(e,4,0))throw new X5("Key "+Di(e,3,0)+" has unknown output prefix type.");if(0===e.getStatus())throw new X5("Key "+Di(e,3,0)+" has unknown status.");if(Di(a,1,0)===Di(e,3,0)&&
1===e.getStatus()){if(b)throw new X5("Primary key has to be unique.");b=!0}}if(!b)throw new X5("Primary key has to be in the keyset and has to be enabled.");this.C=a}function Ang(){var a=wng(),b;return T5(function(c){if(1==c.C)return uY(c,Bng(a),2);b=c.D;return c.return(new zng(b))})}
function Bng(a){var b,c,d,e;return T5(function(f){if(1==f.C){var h=new Z5;h=Ji(h,2,1);var k=Di(a,3,0);b=Ji(h,4,k);h=Smg(4);for(var l=k=0;l<h.length;l++)k+=(h[l]&255)<<8*l;c=Math.abs(k)%Math.pow(2,32);Gi(b,3,c);return uY(f,rng(a),2)}d=f.D;Ni(b,1,d);e=new cng;Qi(e,2,b,Z5,void 0);Gi(e,1,c);return f.return(e)})}function Cng(a){var b;return T5(function(c){if(1==c.C){if(!W5)throw new Qmg("primitive type must be non-null");return uY(c,Dng(a),2)}b=c.D;return c.return(tng(b))})}
function Dng(a){var b,c,d,e,f,h,k,l;return T5(function(n){switch(n.C){case 1:b=new kng,c=Mi(a.C,Z5,2),d=c.length,e=0;case 2:if(!(e<d)){n.C=4;break}f=c[e];if(1!==f.getStatus()){n.C=3;break}h=N(f,Y5,1);if(!h)throw new X5("Key data has to be non null.");k=void 0;return uY(n,png(h),8);case 8:k=n.D;n.C=7;break;case 9:k=n.D;case 7:var q=k;if(!q)throw new X5("Primitive has to be non null.");if(!f)throw new X5("Key has to be non null.");a:switch(Di(f,4,0)){case 2:case 4:var r=gng(Di(f,3,0),0);break a;case 1:r=
gng(Di(f,3,0),1);break a;case 3:r=ing;break a;default:throw new X5("Unsupported key prefix type.");}q=new jng(q,r,f.getStatus(),Di(f,4,0));r=ka(q.C).concat().toString();var w=mng(b,r);w?(w.push(q),b.D.set(r,w)):b.D.set(r,[q]);l=q;if(Di(f,3,0)===Di(a.C,1,0)){if(!l)throw new X5("Primary cannot be set to null.");if(1!=l.D)throw new X5("Primary has to be enabled.");q=lng(b,l.C);r=!1;w=q.length;for(var x=0;x<w;x++)if(1===q[x].D){r=!0;break}if(!r)throw new X5("Primary cannot be set to an entry which is not held by this primitive set.");
b.C=l}case 3:e++;n.C=2;break;case 4:return n.return(b)}})}zng.prototype.write=function(){return T5(function(){throw new X5("KeysetHandle -- write: Not implemented yet.");})};var Eng=new yng;function Fng(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)}u(Fng,Error);Fng.prototype.name="CseCrypterError";function Gng(a){var b;return T5(function(c){if(1==c.C){c.F=2;if(!a)throw new X5("Serialized keyset has to be non-null.");var d=new xng(a);try{for(var e=new fi(d.C),f=new cng;hi(e)&&!gi(e);)switch(e.D){case 1:var h=e.C.Oz();Gi(f,1,h);break;case 2:h=new Z5;e.H(h,fng);Qi(f,2,h,Z5,void 0);break;default:ii(e)}var k=f}catch(l){throw new X5("Could not parse the given serialized proto as a keyset proto.");}if(0===Mi(k,Z5,2).length)throw new X5("Could not parse the given serialized proto as a keyset proto.");
d=new zng(k);return uY(c,Cng(d),4)}if(2!=c.C)return c.return(c.D);b=S5(c);throw new Fng(b.message);})}function Hng(){var a;return T5(function(b){if(1==b.C)return uY(b,Ang(),2);a=b.D;return b.return(Eng.write(a.C))})};function Ing(a,b){this.H=a;this.J=b;this.F=!1}Ing.prototype.D=g("J");Ing.prototype.C=function(a){var b=this,c,d;return T5(function(e){if(1==e.C)return e.F=2,uY(e,Jng(b.H,a),4);if(2!=e.C)return c=e.D,e.return(Kng(b,c));d=S5(e);if(d instanceof U5)throw new V5(d.message,6,d);if(d instanceof Hmg)throw new V5(d.message,8,d);throw new V5(d.message,7,d);})};function Kng(a,b){if(!a.F&&0<b.length){var c=new Uint8Array(b.length+Img.length);c.set(Img,0);c.set(b,Img.length);a.F=!0;return c}return b};function vng(a){this.C=a}vng.prototype.encrypt=function(a,b){var c=this,d,e,f,h;return T5(function(k){if(1==k.C){if(!a)throw new X5("Plaintext has to be non-null.");d=c.C.C.F;return uY(k,d.encrypt(a,b),2)}e=k.D;f=c.C.C.C;h=new Uint8Array(f.length+e.length);h.set(f,0);h.set(e,f.length);return k.return(h)})};
vng.prototype.decrypt=function(a,b){var c=this,d,e,f,h,k,l;return T5(function(n){switch(n.C){case 1:if(!a)throw new X5("Ciphertext has to be non-null.");if(!(5<a.length)){n.C=2;break}d=a.subarray(0,5);return uY(n,lng(c.C,d),3);case 3:return e=n.D,f=a.subarray(5,a.length),n.F=4,uY(n,Lng(e,f,b),6);case 6:h=n.D;n.C=5;n.F=0;break;case 4:S5(n);case 5:if(h)return n.return(h);case 2:return uY(n,lng(c.C,ing),7);case 7:return k=n.D,uY(n,Lng(k,a,b),8);case 8:return l=n.D,n.return(l)}})};
function Lng(a,b,c){var d,e,f,h;return T5(function(k){switch(k.C){case 1:d=a.length,e=0;case 2:if(!(e<d)){k.C=4;break}if(1!=a[e].D){k.C=3;break}f=a[e].F;h=void 0;k.F=5;return uY(k,f.decrypt(b,c),7);case 7:h=k.D;k.C=6;k.F=0;break;case 5:S5(k);k.C=3;break;case 6:return k.return(h);case 3:e++;k.C=2;break;case 4:throw new X5("Decryption failed for the given ciphertext.");}})};function Mng(a,b,c){this.F=new Uint8Array(a);this.O=a;this.J=b;this.C=0;this.D=c;this.H=!1}
Mng.prototype.update=function(a){var b=this,c,d,e,f,h,k,l,n;return T5(function(q){switch(q.C){case 1:if(b.H)throw new Hmg("The final chunk has already been flushed. Cannot do additional crypto operations.");if(1073741824<b.D+Math.ceil((a.length+b.C)/b.O))throw new Hmg("Cannot update cipher. Cipher reaching chunk count limit.");var r=a.length+b.C;c=new Uint8Array(0>=r?0:Math.floor((r-1)/b.O)*b.J);e=d=0;f=a.length;case 2:if(!(f>b.F.length-b.C)){q.C=3;break}h=Nng(b.D,!1);k=b.F.length-b.C;l=a.subarray(e,
e+k);b.F.set(l,b.C);b.C=0;e+=k;f-=k;return uY(q,b.L(b.F,h),4);case 4:n=q.D;if(n.length!==b.J)throw new Fng("Update internal returned unexpected chunk size: expected "+b.J+" actual "+n.length);c.set(n,d);d+=n.length;b.D+=1;q.C=2;break;case 3:return b.F.set(a.subarray(e,e+f),b.C),b.C+=f,q.return(c)}})};
function Ong(a){var b,c,d;return T5(function(e){if(1==e.C){if(a.H)throw new Hmg("The final chunk has already been flushed. Cannot do additional crypto operations.");if(0===a.C&&0!==a.D)throw new Hmg("Cannot flush empty chunk at non-zero chunk index");b=a.F.subarray(0,a.C);c=Nng(a.D,!0);return uY(e,a.L(b,c),2)}d=e.D;a.C=0;a.D+=1;a.H=!0;return e.return(d)})}function Nng(a,b){var c=new ArrayBuffer(5),d=new DataView(c);d.setUint32(0,a,!1);d.setUint8(4,b?1:0);return new Uint8Array(c)};function Png(a,b,c,d){Mng.call(this,c,b,d);this.R=a}u(Png,Mng);Png.prototype.L=function(a,b){var c=this,d;return T5(function(e){if(1==e.C)return e.F=2,uY(e,c.R.decrypt(a,b),4);if(2!=e.C)return e.return(e.D);d=S5(e);throw new Fng(d.message);})};function Qng(a,b){this.F=a;this.D=b;this.C=0}function Rng(a,b,c,d){var e,f;return T5(function(h){if(1==h.C)return uY(h,Gng(a),2);e=h.D;f=new Png(e,c,d,0);return h.return(new Qng(b,f))})}
Qng.prototype.decrypt=function(a){var b=this,c,d,e,f;return T5(function(h){switch(h.C){case 1:c=b.F-b.C;if(a.length>c)throw new U5("ciphertext","Expected at most "+c+" bytes of ciphertext, got "+a.length+" bytes");return uY(h,b.D.update(a),2);case 2:d=h.D;if(a.length!==c){h.C=3;break}return uY(h,Ong(b.D),4);case 4:e=h.D,f=d,d=new Uint8Array(f.length+e.length),d.set(f,0),d.set(e,f.length);case 3:return b.C+=a.length,h.return(d)}})};function Sng(a,b,c,d){Mng.call(this,b,c,d);this.R=a}u(Sng,Mng);Sng.prototype.L=function(a,b){var c=this,d;return T5(function(e){if(1==e.C)return e.F=2,uY(e,c.R.encrypt(a,b),4);if(2!=e.C)return e.return(e.D);d=S5(e);throw new Fng(d.message);})};function Tng(a,b){this.D=a;this.C=b}function Ung(a,b){var c,d,e;return T5(function(f){if(1==f.C)return uY(f,Hng(),2);if(3!=f.C)return c=f.D,uY(f,Gng(c),3);d=f.D;e=new Sng(d,a,b,0);return f.return(new Tng(c,e))})}Tng.prototype.getKey=g("D");Tng.prototype.encrypt=function(a){var b=this;return T5(function(c){return c.return(b.C.update(a))})};
function Jng(a,b){var c,d,e;return T5(function(f){if(1==f.C)return uY(f,a.C.update(b),2);if(3!=f.C)return c=f.D,uY(f,Ong(a.C),3);d=f.D;e=new Uint8Array(c.length+d.length);e.set(c,0);e.set(d,c.length);return f.return(e)})};var Vng=new (ca());if(!Vng)throw new X5("primitive wrapper cannot be null");if(!W5)throw new X5("primitive wrapper cannot be undefined");if(ung.has(W5)&&!(ung.get(W5)instanceof Vng.constructor))throw new X5("primitive wrapper for type "+W5+" has already been registered and cannot be overwritten");ung.set(W5,Vng);var Wng=new (ca()),Xng;void 0===Xng&&(Xng=!0);if(!Wng)throw new X5("Key manager cannot be null.");
if(ong.has("type.googleapis.com/google.crypto.tink.AesGcmKey")){if(!(ong.get("type.googleapis.com/google.crypto.tink.AesGcmKey")instanceof Wng.constructor))throw new X5("Key manager for key type type.googleapis.com/google.crypto.tink.AesGcmKey has already been registered and cannot be overwritten.");if(!sng.get("type.googleapis.com/google.crypto.tink.AesGcmKey")&&Xng)throw new X5("Key manager for key type type.googleapis.com/google.crypto.tink.AesGcmKey has already been registered with forbidden new key operation.");
sng.set("type.googleapis.com/google.crypto.tink.AesGcmKey",Xng)}ong.set("type.googleapis.com/google.crypto.tink.AesGcmKey",Wng);sng.set("type.googleapis.com/google.crypto.tink.AesGcmKey",Xng);function Yng(a){this.D=a;this.C=a+28}function Zng(a){return T5(function(b){return 1==b.C?uY(b,Ung(a.D,a.C),2):b.return(b.D)})}function $ng(a,b,c){return T5(function(d){return 1==d.C?uY(d,Rng(b,c,a.D,a.C),2):d.return(d.D)})};function aog(a){K(this,a,0,-1,null,bog)}y(aog,J);var bog=[[1]];aog.prototype.ea=function(){var a=new F;cog(this,a);return X(a)};function cog(a,b){a=N(a,Dmg,1);null!=a&&b.C(1,a,Emg)}function dog(){var a=new aog,b=new Dmg;return Oi(a,1,bog[0],b)};function $5(a){K(this,a,0,-1,null,null)}y($5,J);$5.prototype.ea=function(){var a=new F;eog(this,a);return X(a)};function eog(a,b){var c=L(a,1);null!=c&&b.D(1,c);c=L(a,2);null!=c&&ni(b,2,c)}$5.prototype.Rk=function(){return L(this,1)};function fog(){var a=new $5;a=M(a,1,"CSE Demo");return M(a,2,123)};function gog(a){K(this,a,0,-1,null,null)}y(gog,J);gog.prototype.ea=function(){var a=new F;var b=N(this,Nmg,1);null!=b&&a.C(1,b,Pmg);b=L(this,2);null!=b&&ni(a,2,b);b=N(this,$5,3);null!=b&&a.C(3,b,eog);b=N(this,aog,4);null!=b&&a.C(4,b,cog);b=L(this,5);null!=b&&a.D(5,b);return X(a)};function hog(a){K(this,a,0,-1,null,null)}y(hog,J);hog.prototype.ea=function(){var a=new F;var b=N(this,$5,1);null!=b&&a.C(1,b,eog);b=N(this,aog,2);null!=b&&a.C(2,b,cog);b=L(this,3);null!=b&&a.D(3,b);b=L(this,4);null!=b&&I(a,4,b);return X(a)};function iog(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)}u(iog,Error);iog.prototype.name="KaclsError";function jog(a){K(this,a,0,-1,null,null)}y(jog,J);jog.prototype.ea=function(){var a=new F;var b=L(this,1);null!=b&&a.D(1,b);b=L(this,2);null!=b&&a.D(2,b);b=L(this,3);null!=b&&a.D(3,b);b=L(this,4);null!=b&&a.D(4,b);return X(a)};jog.prototype.Rk=function(){return L(this,4)};function kog(a){K(this,a,0,-1,null,null)}y(kog,J);kog.prototype.ea=function(){var a=new F;var b=L(this,1);null!=b&&ri(a,1,b);return X(a)};function log(a){K(this,a,0,-1,null,null)}y(log,J);log.prototype.ea=function(){var a=new F;var b=L(this,1);null!=b&&ri(a,1,b);b=L(this,2);null!=b&&a.D(2,b);b=L(this,3);null!=b&&a.D(3,b);b=L(this,4);null!=b&&a.D(4,b);return X(a)};log.prototype.Rk=function(){return L(this,4)};function mog(a){K(this,a,0,-1,null,null)}y(mog,J);mog.prototype.ea=function(){var a=new F;var b=L(this,1);null!=b&&a.D(1,b);return X(a)};var nog={"content-type":"application/json"};
function oog(a){var b={key:Qlg(L(a,1)),authorization:L(a,3),authentication:L(a,2),reason:a.Rk()};return new Promise(function(c,d){ep(pog(L(a,3),"/wrap"),function(e){var f=e.target;if(f.dj()){e="";try{e=f.Qy().wrapped_key}catch(h){d(new iog("Unable to parse response as JSON: "+h.message))}e?(f=new mog,e=M(f,1,e),c(e)):d(new iog("wrapped_key is missing in KACLS response"))}else d(new iog("Wrap request to KACLS failed: "+f.Oy()))},"POST",JSON.stringify(b),nog)})}
function qog(a){var b={wrapped_key:L(a,1),authorization:L(a,3),authentication:L(a,2),reason:a.Rk()};return new Promise(function(c,d){ep(pog(L(a,3),"/unwrap"),function(e){var f=e.target;if(f.dj()){e="";try{e=f.Qy().key}catch(h){d(new iog("Unable to parse response as JSON: "+h.message));return}e?(f=new kog,e=Uint8Array.from(aoa(e)),e=M(f,1,e),c(e)):d(new iog("key is missing in KACLS response"))}else d(new iog("Unwrap request to KACLS failed: "+f.Oy()))},"POST",JSON.stringify(b),nog)})}
function pog(a,b){try{var c=JSON.parse(Plg(a.split(".")[1]))}catch(d){throw new U5("authorizationToken","Cannot decode authorization token: "+d);}a=c.kacls_url;if(!a)throw new U5("authorizationToken","Missing KACLS URL in authorization token.");return a.endsWith("/")?a.slice(0,-1)+b:a+b};function rog(a){K(this,a,0,-1,null,null)}y(rog,J);rog.prototype.ea=function(){var a=new F;var b=L(this,1);null!=b&&I(a,1,b);b=L(this,2);null!=b&&a.D(2,b);return X(a)};function sog(){var a=new rog;return M(a,1,1)}rog.prototype.Ly=function(){return L(this,2)};function tog(){}
tog.prototype.Ly=function(a){var b,c,d,e,f,h,k,l,n,q;return T5(function(r){if(1==r.C)return b={aud:"test_kacl",iss:"google-cse-test-authn",email:a.getEmail(),email_verified:!0},c={alg:"RS256",typ:"JWT",kid:"test_authn"},d=CFe(JSON.stringify(c),4),b.Wna=Math.round(Date.now()/1E3)-1,b.exp=Math.round(b.Wna+3600),e=d+"."+CFe(JSON.stringify(b),4),f={alg:"RS256",d:"DI4nXowkE3RIcp07CI7NWkOHxe92sFVjgK1XqEikAXH1HK7jBxp9dF5cMKelWsu0GnqSTAMzus04hQ0lBGhGTwVTabMUkGhMRd8QrKWMXbH-DIyDOZtA9ZTg439pIKF-ZOIk2mxEt0P91EmFSq3grIW2xdbDHfnuZEZoPQ6GfMeICwBIIxoNAEbEuPyacVl6WDpfLX3qwtcushPrIo4Jkcbvq2hGk7aj5GX4cr0K1U9Ctlv5G1jSFhzdouSog4GLL2XmxyRDlzSsCxoBTViscitRYV_hHdKDBZWEzOddUoFW_xWTLXm0dlRHFDJMFF8JDuXBkcsJzaal2_Puko3Lpw",dp:"BigtEVDe7kfnEhnp6ZqOG7GHOc11-ZPcoGWq_hd75sFs_nU0-MdD6xDMaQ3AuMm5lRY6cjhSQlKjNf6Qj6yBrxE4l0bbh5uVzU2gpnhTuvWNgd1ENLBqoQ-y7YcOLt5fWUwDHZDPX8JWkZ_BUumjklY6hCkYXZ3BSm7UN_qciic",
dq:"N_7PJ42DLwJbmIlAGdQnLoxFLXEHzRbFr5Arass6ZjrtyabZ6T1hQxhjc8Vil72PHbDQ4_Beh1p5-RCBOhrm7667jsJWNei8Qmu-Abz-06OfjtBx_nzNic7Gc4sh-Cc5dU-UdX9hit2_ruBkFOIphjlTjhyFOoRvk58ZkS7bduM",e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"yU4wVOVDxYat-sgUp5Zmd32bUfdVYh1c-nKSN7JbYett_K437Y58n_IBgQntbTLxcy_96DtbaJ7Jf2ZPcwnIp1MLDkd6MLesdlRFgE-6jwG00LfeD-AYGitOh7zmWwpN32dKqLuV4CpoC7vVDGFJVVuNW_FnitKFulfG2Q-I9aSUhXoHvsqMKK9T2YSXQZa79Xh2PgErhn_X0kwoKgf8D_VLZcZWIXSVBq06fOBFW5-0sIIFGyOqWadtT98n-iQZ5XNHPXlYI-Geejk3B62YY5ND1_87poRUOavZzw5LB54dMLL4_WA32QVT72GUeeLwkwYQ30_tUyl2ZiEl_QlVeQ",
p:"_fAWJqfp8-Pc4RCYpvuaitDxjblmJf6-eI5SIExdKKbd_M9qKuSQFWG1OOW0C1l5cd9hitZZrfrE-a4_MU9SlF1jKVDYSAiaznKzfVaMDHNtntDOiGW1zm6EoMhfCo--Nv7wTfbOobSni7uFV_Vx5jDKvG7tQ9iDfn0f3k0Xzk8",q:"yvCvLuIRiJ9GMEmDCaw7x9FHODEdJp01rHjUSGhhwpshzQQHTme_ynQYPSt7KsxwOcJlr5P9OKf6DC6GGmsuzAZx3wqIRzkKa_X7od7aOV7MNLhytndJaZKgi1Olf6uIv96dWwNBtLQOR2_eGRbtBWCldVkUjnFBwoMGcgaptbc",qi:"BmuZNEO4_Jlu58O4bunxxMxIOiDoaO72uYyRhcWBqiX4oAJ7GHKN9qP5poq3Uywwnfn8uzOdJe2AoihNPMRSvXvHDyMhIZnMuWIWwhZh4EDmep7b8ELZd_hUKdsu_3TiqHiwfugb8nPsu_jzzLAe1tStt2B5aNSTWQsvvjxVl90"},
uY(r,window.crypto.subtle.importKey("jwk",f,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=r.C)return h=r.D,k=new TextEncoder,uY(r,crypto.subtle.sign("RSASSA-PKCS1-v1_5",h,k.encode(e)),3);l=r.D;n=e+"."+ci(new Uint8Array(l),4);var w=sog();q=M(w,2,n);return r.return(q)})};function uog(a){K(this,a,0,-1,null,null)}y(uog,J);uog.prototype.ea=function(){var a=new F;var b=L(this,1);null!=b&&I(a,1,b);b=L(this,2);null!=b&&a.D(2,b);return X(a)};uog.prototype.setMode=function(a){return M(this,1,a)};function vog(a,b){return M(a,2,b)};function wog(a){K(this,a,0,-1,null,xog)}y(wog,J);var xog=[[1,2]];wog.prototype.ea=function(){var a=new F;var b=L(this,1);null!=b&&a.D(1,b);b=L(this,2);null!=b&&I(a,2,b);return X(a)};wog.prototype.Ly=function(){return L(this,1)};wog.prototype.getError=function(){return L(this,2)};wog.prototype.hasError=function(){return null!=L(this,2)};function yog(a,b,c,d){this.F=a.endsWith("/")?a.slice(0,-1):a;this.H=b;this.C=c;this.D=d;this.J=zog();this.cb=zog()}function Aog(a){return new yog(a.F,a.H,a.C.toString(),a.D)}yog.prototype.getState=g("cb");yog.prototype.getEmail=g("D");function zog(){var a=new Uint8Array(16);window.crypto.getRandomValues(a);return a.toString()+":"+In().location.origin}
function Bog(a,b){var c={response_type:"id_token",response_mode:"fragment",scope:"openid email",login_hint:a.D,client_id:a.H,state:a.getState(),nonce:a.J,redirect_uri:a.C.toString()};b&&(c.prompt="none");return fl(a.F,c)};function Cog(a){this.C=new Map;this.D=a}
function Dog(a,b){var c=Eog(b);if(!c)return Promise.reject(new V5(b+" is not a valid email address.",1));var d=a.C.get(c);if(d)if(864E5<Date.now()-d.R2a)a.C.delete(c);else return Promise.resolve(Aog(d.Mi));var e="https://cse."+c+"/.well-known/cse-configuration";return na.fetch(e).catch(function(f){return Promise.reject(new V5("Unable to get CSE configuration content from "+e,14,f))}).then(function(f){return f.ok?Fog(a,f,c,b):Promise.reject(new V5("Fetching content from "+e+" failed with "+f.status+
" status",14))})}function Fog(a,b,c,d){return b.json().catch(function(e){return Promise.reject(new V5("Failed to parse CSE configuration content to json.",15,e))}).then(function(e){var f=e.client_id;e=e.discovery_uri;return f&&e?Gog(e).then(function(h){h=new yog(h,f,a.D,d);a.C.set(c,{R2a:Date.now(),Mi:h});return h}):Promise.reject(new V5('CSE configuration content does not include the required "client_id" and "discovery_uri" field.',15))})}
function Gog(a){return na.fetch(a).catch(function(b){return Promise.reject(new V5("Unable to get OIDC content from "+a,12,b))}).then(function(b){return b.ok?Hog(b):Promise.reject(new V5("Fetching content from "+a+" failed with "+b.status+" status",12))})}
function Hog(a){return a.json().catch(function(b){return Promise.reject(new V5("Failed to parse discovery configuration content to json.",13,b))}).then(function(b){return(b=b.authorization_endpoint)?b:Promise.reject(new V5('OIDC configuration content does not include the required "authorization_endpoint" field.',13))})}function Eog(a){var b=a.lastIndexOf("@");return 0<b?a.substring(b+1,a.length).toLowerCase():""};function Iog(a){this.C=a}Iog.prototype.getToken=g("C");Iog.prototype.getEmail=function(){return Jog(this).email};function Kog(a){var b=Da()/1E3;return b<Jog(a).iat||60>Jog(a).exp-b}function Jog(a){return JSON.parse(atob(a.C.split(".")[1]))};var Log={interaction_required:10,login_required:10,account_selection_required:10,consent_required:10,invalid_request_uri:18,invalid_request_object:18,request_not_supported:18,request_uri_not_supported:18,registration_not_supported:18,invalid_request:18,unauthorized_client:18,access_denied:18,unsupported_response_type:18,invalid_scope:18,server_error:19,temporarily_unavailable:19};function Mog(a){var b=this;this.D=a;this.ma=function(c){a:{if(b.R(c)&&(c=c.data,b.D.getState()==c.state)){var d=c.error;if(d){var e=Log[d];b.H(new V5(d+": "+c.error_description,e?e:18))}else{if(c=c.token){b:{d=new Iog(c);try{if(Kog(d)){e=null;break b}}catch(f){e=null;break b}e=d}if(d=e)d=b.D.J,d=Jog(e).nonce==d;if(d&&!Kog(e)){b.xa(e);Nog(b);c=void 0;break a}}b.H(new V5("Invalid JWT: "+c,16))}Nog(b)}c=void 0}return c};this.F=!1;this.H=this.xa=this.J=null}
function Oog(a){if(a.F)return a.J;a.F=!0;a.J=Pog(a);window.addEventListener("message",a.ma,!1);a.L();return a.J}function Nog(a){a.F=!1;a.O();window.removeEventListener("message",a.ma,!1)}function Pog(a){return new Promise(function(b,c){a.xa=b;a.H=c})};function Qog(a){Mog.call(this,a);this.C=null;this.V=0}u(Qog,Mog);Qog.prototype.L=function(){this.C=Be(Bog(this.D,!1),window,Xd("_blank"));Rog(this)};Qog.prototype.O=function(){this.C&&!this.C.closed&&(Bo(this.V),this.C.close(),Rog(this))};Qog.prototype.R=function(a){return a.origin==(new URL(this.D.C)).origin};function Rog(a){a.C.closed?(a.C=null,a.F&&a.H(new V5("Popup was closed before authentication completed.",11))):a.V=Ao(function(){return Rog(a)},1E3)};function Sog(a){Mog.call(this,a);this.C=null}u(Sog,Mog);Sog.prototype.R=function(a){return!!this.C&&a.source===this.C.contentWindow&&"null"===a.origin};Sog.prototype.L=function(){var a=new Yd(Zd,Bog(this.D,!0));this.C=a=On(lga(a,{sandbox:"allow-scripts",style:Xd("display:none")}));document.body.appendChild(a)};Sog.prototype.O=function(){this.C&&(Sn(this.C),this.C=null)};function Tog(a){this.C=new Map;this.D=new Cog(a)}Tog.prototype.Ly=function(a){var b=L(a,1),c=L(a,2)||"";return(a=this.C.get(c))&&!Kog(a)?(b=new wog,a=a.getToken(),Li(b,1,xog[0],a),Promise.resolve(b)):Uog(this,b,c)};
function Uog(a,b,c){return Dog(a.D,c).then(function(d){return 2==b?Oog(new Qog(d)):Oog(new Sog(d))}).then(function(d){if(d.getEmail()!=c)throw new V5("Mismatch between user email "+c+" and JWT email "+d.getEmail(),9);var e=new wog,f=d.getToken();Li(e,1,xog[0],f);a.C.set(c,d);return e})};function Vog(a){this.C=new Tog(a)}Vog.prototype.Ly=function(a){var b=this,c;return T5(function(d){c=vog((new uog).setMode(L(N(a,Dmg,1),1)),a.getEmail());return d.return(b.C.Ly(c).then(function(e){var f=sog();e=e.Ly();return M(f,2,e)}))})};function Wog(a){this.C=a}function Xog(){var a=new Cmg;switch(null!=L(a,1)?L(a,1):1){case 0:if(null==L(a,2))throw new V5("IDP is OIDC but callback URL is missing",1);a=new Vog(L(a,2));break;case 1:a=new tog;break;default:throw new V5("Unknown IDP type",1);}return new Wog(a)}
function Yog(a){var b=Xog(),c,d,e,f,h,k;return T5(function(l){switch(l.C){case 1:return c=Zog(L(a,4)),l.F=2,uY(l,Zng(new Yng(c)),4);case 4:d=l.D;l.C=3;l.F=0;break;case 2:throw e=S5(l),new V5(e.message,7,e);case 3:return uY(l,$og(b,N(a,aog,2),apg(L(a,3))),5);case 5:return f=l.D,uY(l,bpg(d.getKey(),f,L(a,3),N(a,$5,1).Rk()),6);case 6:h=l.D;var n=L(N(a,$5,1),2),q=L(a,4),r=new Nmg;n=M(r,1,n);n=M(n,2,h);r=new Kmg;q=M(r,1,q);k=Oi(n,3,Omg[0],q);return l.return(new Ing(d,k))}})}
function cpg(a){var b=Xog(),c,d,e,f,h;return T5(function(k){switch(k.C){case 1:return c=N(a,Nmg,1),uY(k,$og(b,N(a,aog,4),apg(L(a,5))),2);case 2:return d=k.D,uY(k,dpg(L(c,2),d,L(a,5),N(a,$5,3).Rk()),3);case 3:return e=k.D,k.F=4,uY(k,$ng(new Yng(Zog(L(N(c,Kmg,3),1))),e,L(a,2)-Img.length),6);case 6:f=k.D;k.C=5;k.F=0;break;case 4:throw h=S5(k),new V5(h.message,7,h);case 5:return k.return(new Jmg(f))}})}
function Zog(a){switch(a){case 1:return 2097152;case 2:return 65536;case 0:throw new V5("Buffer size config is not set",1);default:throw new V5("Unexpected buffer size config",1);}}function $og(a,b,c){var d,e;return T5(function(f){if(1==f.C){var h=new Fmg;var k=N(b,Dmg,1);h=Oi(h,1,Gmg[0],k);d=M(h,2,c);return uY(f,a.C.Ly(d),2)}e=f.D;return f.return(e.Ly())})}function apg(a){try{return JSON.parse(atob(a.split(".")[1])).email}catch(b){throw new V5("Invalid authorization token.",1);}}
function bpg(a,b,c,d){var e,f,h;return T5(function(k){if(1==k.C){var l=new log;l=M(l,1,a);l=M(l,2,b);l=M(l,3,c);e=M(l,4,d);k.F=2;return uY(k,oog(e),4)}if(2!=k.C)return f=k.D,k.return(L(f,1));h=S5(k);if(h instanceof U5)throw new V5(h.message,5,h);throw new V5(h.message,2,h);})}
function dpg(a,b,c,d){var e,f,h;return T5(function(k){if(1==k.C){var l=new jog;l=M(l,1,a);l=M(l,2,b);l=M(l,3,c);e=M(l,4,d);k.F=2;return uY(k,qog(e),4)}if(2!=k.C)return f=k.D,k.return(Ci(L(f,1)));h=S5(k);if(h instanceof U5)throw new V5(h.message,5,h);throw new V5(h.message,3,h);})};function epg(a){this.D=a;this.C=!1}
epg.prototype.Jia=function(a){var b=this,c,d,e,f,h,k,l;return T5(function(n){if(1==n.C){if(b.C)throw Error("cannot decrypt when decrypter is done");c=(new DataView(a.buffer)).getUint32(0,!1);d=a.subarray(4,4+c);for(var q=new fi(d),r=new Nmg;hi(q)&&!gi(q);)switch(q.D){case 1:var w=joa(q.C);M(r,1,w);break;case 2:w=ki(q);M(r,2,w);break;case 3:w=new Kmg;q.H(w,Lmg);Oi(r,3,Omg[0],w);break;default:ii(q)}e=r;f=a.length-d.length-4;h=a.subarray(4+c,a.length);return uY(n,fpg(b.D,e,f),2)}if(3!=n.C){k=n.D;if(h.length!==
f)throw Error("give ciphertext does not match expected size");return uY(n,k.Jia(h),3)}l=n.D;b.C=!0;return n.return(l)})};function fpg(a,b,c){var d,e,f;return T5(function(h){d=fog();e=dog();var k=new gog;k=Ni(k,3,d);k=Ni(k,4,e);k=M(k,5,a);k=M(k,2,c);f=Ni(k,1,b);return h.return(cpg(f))})};function gpg(a){this.F=a}gpg.prototype.D=function(){throw Error("not implemented");};gpg.prototype.C=function(a){var b=this,c,d,e,f,h;return T5(function(k){if(1==k.C){var l=b.F;var n=fog(),q=dog(),r=new hog;n=Ni(r,1,n);q=Ni(n,2,q);l=M(q,3,l);l=M(l,4,1);l=Yog(l);return uY(k,l,2)}if(3!=k.C)return c=k.D,d=c.D().ea(),e=new Uint8Array(4),(new DataView(e.buffer)).setUint32(0,d.length,!1),uY(k,c.C(a),3);f=k.D;h=new Uint8Array(4+d.length+f.length);h.set(e,0);h.set(d,4);h.set(f,4+d.length);return k.return(h)})};function hpg(){var a,b,c,d,e,f,h,k,l;return T5(function(n){if(1==n.C)return a={aud:"test_kacl",iss:"google-cse-test-authz",email:"jane.doe@foo.bar",resource_name:"item1234",perimeter_id:"",role:"writer",kacls_url:zc(z(),"docs-cse-kurl")},b=new TextEncoder("utf8"),c={alg:"RS256",typ:"JWT",kid:"test_authz"},d=CFe(JSON.stringify(c),4),a.Wna=Math.round(Date.now()/1E3)-1,a.exp=Math.round(a.Wna+3600),e=d+"."+CFe(JSON.stringify(a),4),f={alg:"RS256",d:"G6GPMtLzIluY3uWJj304LUcWYzBAqpF8Sv3v5fxPc_r6_SERS837kX1b69GHLJQZLYJIKQZh4YhA2sfMUe4Phlyu6C-hOc2HY6eY1Ek2X0Yq-6VKe0L4ipw-BjK5Pme-gHd_rsAF0i1B2lV6BZeeJ2eJvFSyKu-h6Hwejay8WgQnSv_JWhDjD-yX6y8icnQ1eiwTAhlUn4xkHLraYEe5ulFav6unSGgpUwPQ6K7NVIZbFjcBWZqFQ4m7C_CMSJptWswEYBw54SK6SvVJwWcC5Rv-73hGREPNAnReCov7FCIEjun9ZJmIiWQKFGgTOTcbh-BKfTXYLbYz_z_Hgd_NBHHNsFyUcSWe7uTv_UCaGWo3g73zluCA5YQIZcpOPvEujIpSE3e_p19fsT7ME4bRWpuvdGtmtSAJy7jjtjnz77m-VxCWvsCEFG3Dld1DHpnmAcKAAYnX49YCHnb9fR0fCafbtLgUnfSqYb7xP2OPgudj0avEe3hsodoCVB_UeA3guqD4PwKf_8M_EOwPkINk-CESn-ZLEtKM0a6qCGlpwlt6t4jHXurlRp17EVKjip_MvKd-V6vKuCP__Esmj5P_n5QaC7OlaXy_d2cSCoZtqjvFu2K3KRu2HKzzFbhZSIYSRacPTQ-oiE6pfA96-6d55ETW3lQqQhoOUudTo734Xmk",
dp:"XiXGIfFs1EFv5BGu9kMOlx1ZF3ZR-naFd-JVHkuFcrJ2nw87-ITfAwvmHsnFm0YCx6TuWfbB2cOBfLN-l7DcrDBM34a_1x81X6C4ZBF3eJ23Sp39RVFg_EWdd-c_8ArAcn3jk0y93jv6_C0KuwF8U62QCDO75zV0bKSIkul0WonalW92-bgHDC9eDA5HzplRnQ7YbPFQErcAi-SPvLtNQQ2D5aA9RZAGk6gDXFrD94odVLlyXGmvKbu7ms2sC_YFhFfbwSs8Tm6Jq3zP68vcZItG34i4a5mSb3tqTJm12SvuNY_XTb2iY3_geeGd8kkAJB04V2jwuzhcU3jN01wgyQ",dq:"PBGcT8hmJIb_MaIsyVT8_C5pEkj4AqGrwVgtkMOXGAZ-XeN3nhxT3-Ow2cr-zfVLruhATS4YNCEuVjDj2bZOf71fB1PGVlxreBjSnZ4ajK3V21Yv3sN0mW4olSoGVxjGwAuD4IHOZgRYxQvZRsU8_RMO0ddfwayw6sCPcTDLXvD15WUxNOPoNFlxiMRdSc2WkogaouwYG235GS7kkwdLIR83EEI0OZnLV3PHmkcbB7YZHn-DglVbI_vQCK3QTw7Kd7B5Dl9QK9gsaAc1qpMgIt0AWwOuQDVhmeVGZym888MHU7j9KH-BJq_V9fp2Ur5arNXGoDSR61XHNiWnt_CJ_w",
e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"jxmY-gE7sdijGpm8mCUirJEfeSj5DCGEquhHNTgYr7nnDwWaKOkeCnpHNon32XeqVqJMWqQk23URh6pJptqx7lfswjfshv1Sy3j-u7bxVT_2U4j4MTqICbnqgSSYRgQA71IGf7Ss2Uqjl2XGJMp_Knyej0wqb1yj0xcNhQH5E4rQaYA25q_hwJzRx7ipZbgpeqfAHgcyPRhCS8fdL9skJEYje921k0CzOIPl1SB6veRrMJq1vO9g31GCGjCJQ2kVav5f_mTOQHHXtz6dtNx42zB7ZFWwUzo3ngiwTWZ3nz333b3Vgj_EgI2EoGLgZYVHqg89lHwJqTNy8hZekWtOwYQUVCiWXtr1g140703_F5QXEvIR7T31iX-ppU-PYeVPMt3Ba8qCpsJRz08ScjDsxKiXezKZK83cGDrev27pn6NNu054aNqcBRjB2_t06hdrtv1ny6DfsjnQcI2sZTV8pNBlBjQuQpeUqWxk4NI60a4lebvwvwVpPO9fqI-6lrqoA2uZ7ljvrJ_RtB7uDkO8KvPbee98eB96Pyl030mne1tBsArAmBS5fn2slywJW1OYtxk3n5BWMPHagy3nMCVqplU9MwmLaWb_y_OcFD4w1sdW8ODb9HATBhF1zz9ULxTHi0FR8iM2irqWR0etGU0Mb748nNgtlmiBF383SnoNX88",
p:"yCdugSE_u9KxPsT9N7KkqUbL-seqox6NJSTa4E6wwLpco9hDfwXeCMbquLSsioOs1jfWvAmhrs-N3a1_hic3aE2a7xSuV3iCZxu6g-fyVOXD_r-U7w5cYBZFMDaKwsK-EKUTWdCXbkGhrgkkcs1LyZJt4clf3ZkJ9TITz0ldBILSAzj2nhdO_CiTx8xpcKidTiPWaOYsZUXb3dyJf59aabz1RZmyd-jqNwNnqr98WC1IacE6SZgTOmmPZYxxYqYM9TlXvp6LHNkk_xDLfwweIbrRxq36G0WIeaAITfY83K30oqaLNi1tGrvttjDx21Xpox5BufAjxtdt384NLBI0WQ",q:"twbragsXfmCFmHH0Zs6G9W-MaoX47OrUuXrZ782hCpNyUr2d3_ukySN3AHx0UVDMYiq3_4E8hjkux331lL24Ze1YyQjEjRhimi6Rr4b7hbMelxWd0eI2sDTGCodR3QV8KNO2NTjRqdajVfOgMkGf7kpWrle8mX5SqiUKk_HRyxZx-kzMgETm2qjE1nLtIygyj6QtmMtq1qpS5jVRa6z_U5eAsKQD5sqzwj3zVkMed4iDjEXFAwuZIpYt-KqjhRzzr-koM_4H3nzzO0d93GwmZUys3WCluNhyiUOkgK-gkFjfjV0eqlNPTiX5nkonLAJ-FIAnfZeY4UcAfLITd4LQZw",
qi:"JOudX6P4PCyZ8XddBgE8vCkHVFbW-s6Qt7nJjhDyzbcw1GIFCUXH_v6oBWt_E6SA_kPqbY3MJ2CZ3KvY2Clp1eF9Zm_iwwQM8DexTVz9YT5PiqtDuCkp6Iyb5XpwTVhVHJnPxvoPTUE_xCrqw1zojqAI-V88LGX5TsMcyeTrN-IIHQ6-42I6d9iTfpC4ZjeQUadj7SwtarASf2snE9PiESArrVU8SgURKXKZStMp3txLLxOhMfmX7ctu55KxGBhoN5Lp360vxUXWGuBLGpcYyPJBLoPKbKODaNmHHBkPyUxMzZ7qtgysF9joR9osKIouT0V8uD-scA-pRE7hEOfIMQ"},uY(n,window.crypto.subtle.importKey("jwk",f,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=n.C)return h=n.D,uY(n,crypto.subtle.sign("RSASSA-PKCS1-v1_5",
h,b.encode(e)),3);k=n.D;l=e+"."+ci(new Uint8Array(k),4);return n.return(l)})};function ipg(){}function tmg(){return Slg(hpg()).transform(function(a){return new epg(a)})}function nmg(){return Slg(hpg()).transform(function(a){return new gpg(a)})};function jpg(a){switch(a){case "none":throw Error("Can only disable encryption in DEBUG mode.");case "demo":return new ipg;default:throw Error("Encryption type not supported.");}};function Vlg(){this.D=zc(z(),"docs-cse-bm");this.F=wmg.getInstance()}Vlg.prototype.C=function(a,b){function c(){return d.Id()}var d=Zj();if(!this.D)return c(),d;zmg(this.F,this.D,a,b,function(e){return d.callback(e)},c);return d};function kpg(){this.D=(void 0).X$a()}kpg.prototype.C=function(){return this.D.transform(ALd)};function lpg(a,b,c,d,e,f,h){var k=new mpg;a=jpg(a);e=JLd(e);var l=new Mlg;this.C=f;this.D=(f=Zm(this.C.C))?null:new Tlg(this.C.F);f=f?new smg(new Bmg(this.C.F)):new kpg;this.F=new amg(f,c,h);this.H=new rmg(d,k,a,this.C,e,l,b);this.J=new bmg(c.H)}lpg.prototype.load=function(){var a=this;this.J.initialize();this.D?tj(Wlg(this.D),function(){qya(a.C.C);a.F.load()}):this.F.load()};lpg.prototype.L=function(a,b){this.H.initialize(a,b)};function npg(a){this.F=a;this.D=zc(z(),"docs-cse-bm");this.H=wmg.getInstance()}npg.prototype.C=function(a){function b(){return c.callback(!1)}var c=Zj();if(!this.D)return b(),c;ymg(this.H,this.F,this.D,a,function(){return c.callback(!0)},b);return c};function mpg(){this.C=new gNa}mpg.prototype.chunkedSnapshot=function(){var a=this;return ritz_api.RitzModelApi.chunkedSnapshot().map(function(b){return hNa(a.C,b)})};function opg(){GK.apply(this,arguments)}u(opg,GK);opg.prototype.initialize=ca();opg.prototype.l$a=function(a,b,c,d,e,f){return new lpg(a,new npg(e.F),b,c,d,e,f)};opg.prototype.B$a=function(a){jpg(a);a=new Vlg;return new Ulg(a)};MK("cse",opg);
